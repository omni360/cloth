<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Cloth Simulation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/jquery-ui-1.10.3.custom.css">
        <script src="js/vendor/modernizr-2.6.2.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
        <script src="js/vendor/jquery-ui-1.10.3.custom.min.js"></script>
        <script src="js/main.js"></script>
    </head>

    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <header>
            <h2>Cloth Simulation</h2>
        </header>

        <section>
            <div id="left">
                <div id="tabs">
                    <ul>
                        <li><a href="#overview">Overview</a></li>
                        <li><a href="#settings">Settings</a></li>
                        <li><a href="#details">Details</a></li>
                    </ul>

                    <div id="overview">
                        <p>This cloth simulation is implemented using the <a href="http://threejs.org/">three.js</a> 3D WebGL library. </p>
                        <p>Have some fun and modify the wind and gravity settings. Pick up a point and move it by holding the left mouse button and "stick"
                            it by holding the left shift button and releasing the mouse butotn.</p>
                        <p>Slow? Try turning down the constraint iterations (the amount each constraint is applied per time step) or reducing the number of 
                            particles in the simulation.</p>
                    </div>

                   <div id="settings">
                        <div id="wind">
                            <div id="windLabel">Wind</div>

                            <table id="windTable">
                                <tr>
                                    <td class="sliderRow">
                                        <div id="xSlider" class="windSlider"></div>
                                    </td>

                                    <td class="sliderRow">
                                        <div id="ySlider" class="windSlider"></div>    
                                    </td>

                                    <td class="sliderRow">
                                        <div id="zSlider" class="windSlider"></div>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <span class="windAxis">x</p>
                                    </td>
                                    <td>
                                        <span class="windAxis">y</p>
                                    </td>
                                    <td>
                                        <span class="windAxis">z</p>
                                    </td>
                                </tr>
                            </table>
                        </div>

                        <table id="sliderTable">
                            <tr>
                                <td>
                                    <div>Iterations</div>
                                </td>
                                <td>
                                    <div>Gravity</div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                     <div id="iterSlider"></div>
                                </td>
                                <td>
                                    <div id="gravSlider"></div>
                                </td>
                            </tr>
                        </table>
                        <div style="clear: both;"></div>

                        <div id="numPoints">
                            <div id="up" class="arrowUp"></div>
                            <div id="dimensions">[20, 20]</div>
                            <div id="down" class="arrowDown"></div>
                        </div>
                        <button id="redraw" class="blue button">redraw</button>
                    </div>
                    
                    <div id="details">
                        <p>A cloth simulation is a collection of particles that have contraints between them that must be satisfied. This simulation has three distinct type of constraints implemented, shearing, structural, and bending. At each timestep the particles pull / push each other depending on the type of constraint, and the rest length between the particles.</p>
                        <img src="images/constraints.png" />
                        <p>If WebGL is not supported in your browser, canvas mode will be used instead. Since this is much slower than WebGl, it would be wise to use
                            a browser with WebGL capabilities or reduce some settings. There will be a notification in the top left corner of the simulation window if 
                            canvas mode is enabled.</p>
                        <p>Note: WebGL can be enabled in Safari under developer options.</p>
                    </div>

                </div>
            </div>

            <div id="right">
                <div id="canvasMode">canvas mode</div>
                <div id="container"></div>
                <div id="controls">
                    <p><b>left click</b> pick up / move ponit</p>
                    <p><b>right click</b> pan camera</p>
                    <p><b>left shift</b> stick point</p>
                    <p><b>mouse wheel</b> zoom</p>
                </div>
            </div>

        </section>

        <script src="js/vendor/three.min.js"></script>
        <script src="js/vendor/jquery.mousewheel.js"></script>
        
        <script src="js/detector.js"></script>
        <script src="js/plugins.js"></script>
        <script src="js/cloth.js"></script>
        <script src="js/point.js"></script>
        <script src="js/triangle.js"></script>
        <script src="js/clothsim.js"></script>
    </body>
</html>